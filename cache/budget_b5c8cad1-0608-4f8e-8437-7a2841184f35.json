{
  "timestamp": "2025-09-11T10:13:39.094467",
  "budget": {
    "pool_info": {
      "dimensions": {
        "comprimento": 10.0,
        "largura": 5.0,
        "prof_min": 1.0,
        "prof_max": 1.5
      },
      "metrics": {
        "prof_media": 1.25,
        "volume": 62.5,
        "m3_h": 15.62,
        "m3_massa": 14.42,
        "m2_fundo": 56.16,
        "m2_paredes": 37.5,
        "m2_tela": 101.06,
        "ml_bordadura": 32.0,
        "perimetro": 30.0,
        "rolos_tl": 3,
        "rolos_3d": 4
      },
      "answers": {
        "acesso": "facil",
        "escavacao": "false",
        "forma": "standard",
        "tipo_piscina": "skimmer",
        "revestimento": "tela",
        "domotica": "true",
        "localizacao": "exterior",
        "luz": "trifasica",
        "tratamento_agua": "cloro_automatico",
        "tipo_construcao": "nova",
        "cobertura": "bolhas",
        "tipo_cobertura_laminas": "",
        "zona_praia": "nao",
        "zona_praia_largura": 0,
        "zona_praia_comprimento": 0,
        "escadas": "nao",
        "escadas_largura": 0,
        "casa_maquinas_abaixo": "sim",
        "casa_maquinas_desc": "",
        "tipo_luzes": "rgb",
        "havera_laje": "sim",
        "laje_m2": 12,
        "laje_espessura": 0.1,
        "revestimento_laje": "sim",
        "material_revestimento": "",
        "havera_bordadura": "sim",
        "tipo_bordadura": "pedra_natural",
        "material_bordadura_natural": "granito_vila_real_3cm",
        "espessura_bordadura": "3cm"
      },
      "multiplier": 1.1247600000000002,
      "multiplier_breakdown": {
        "geometrico": 1.0,
        "tecnologico": 1.071,
        "mercado": 1.05,
        "final": 1.125
      },
      "transport_costs": {
        "nivel_acesso": "facil",
        "custo_por_m3": 0.0,
        "custo_transporte_fixo": 0.0,
        "custo_total_m3": 0.0,
        "custo_total": 0.0,
        "m3_massa_usado": 14.42,
        "explicacao": "Acesso fácil - sem custos adicionais de transporte",
        "breakdown": []
      }
    },
    "client_data": {
      "clientName": "Patrick Costa",
      "commercialName": "Rui Vaz",
      "date": "2025-09-11",
      "localidade": "Estarreja",
      "localidade_outro": "",
      "observations": "",
      "proposalNumber": "PO 001"
    },
    "families": {
      "filtracao": {
        "filter_01_4": {
          "name": "Filtro Aster Astralpool - D.750 21m3/h",
          "price": 987,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Filtro selecionado para piscina exterior com capacidade 15.62 m³/h",
          "can_change_type": true,
          "product_id": 4
        },
        "valve_01_101": {
          "name": "Válvula Selectora Automatica - iWash by aquark",
          "price": 999,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Válvula automática para integração domótica",
          "can_change_type": true,
          "product_id": 101
        },
        "valve_02_100": {
          "name": "Válvula Selectora Manual (ALTERNATIVO)",
          "price": 99,
          "quantity": 1,
          "unit": "un",
          "item_type": "alternativo",
          "reasoning": "Alternativa manual",
          "can_change_type": true,
          "product_id": 100,
          "alternative_to": "valve_01_101"
        },
        "pump_01_19": {
          "name": "Bomba de filtração Vitoria Plus Silent Astralpool - 1,0HP(T) 16m3/h",
          "price": 652,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Bomba padrão: 16m³/h (trifasica)",
          "can_change_type": true,
          "product_id": 19
        },
        "vidro_fino_23_filter_01_4": {
          "name": "Vidro granulado ionizado ativado - granulometria 0,4-1,0mm (Sacos de 20kg)",
          "price": 29.9,
          "quantity": 6,
          "unit": "saco",
          "item_type": "incluido",
          "reasoning": "Vidro filtrante fino: 6 sacos (70% do total de vidro)",
          "can_change_type": false,
          "product_id": 23
        },
        "vidro_grosso_24_filter_01_4": {
          "name": "Vidro granulado ionizado ativado - granulometria 1,5-3,0mm (Sacos de 20kg)",
          "price": 29.9,
          "quantity": 3,
          "unit": "saco",
          "item_type": "incluido",
          "reasoning": "Vidro filtrante grosso: 3 sacos (30% do total de vidro)",
          "can_change_type": false,
          "product_id": 24
        },
        "areia_fina_74_filter_01_4": {
          "name": "Areia Sílica 0,6-1,2mm (25kg)",
          "price": 7.5,
          "quantity": 6,
          "unit": "saco",
          "item_type": "alternativo",
          "reasoning": "Alternativa ao vidro filtrante fino: 6 sacos (areia fina)",
          "alternative_to": "vidro_fino_23_filter_01_4",
          "can_change_type": false,
          "product_id": 74
        },
        "areia_grossa_75_filter_01_4": {
          "name": "Areia Sílica Grossa (25kg)",
          "price": 7.5,
          "quantity": 3,
          "unit": "saco",
          "item_type": "alternativo",
          "reasoning": "Alternativa ao vidro filtrante grosso: 3 sacos (areia grossa)",
          "alternative_to": "vidro_grosso_24_filter_01_4",
          "can_change_type": false,
          "product_id": 75
        }
      },
      "recirculacao_iluminacao": {
        "skimmer_35": {
          "name": "Skimmer Linha de água Branco Liner",
          "price": 210,
          "quantity": 2,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Skimmers para piscina skimmer 5.0m de largura",
          "can_change_type": true
        },
        "boca_impulsao_43": {
          "name": "Boca de Impulsão de parede Astralpool Liner",
          "price": 14.25,
          "quantity": 4,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Bocas de impulsão para piscina 5.0m de largura",
          "can_change_type": true
        },
        "tomada_aspiracao_51": {
          "name": "Tomada de Aspiração Astralpool Liner",
          "price": 23.3,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Tomada de aspiração padrão",
          "can_change_type": true
        },
        "passamuros_54": {
          "name": "Passamuros Astralpool Liner",
          "price": 13.9,
          "quantity": 5,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Passamuros para instalação (5 unidades)",
          "can_change_type": true
        },
        "regulador_nivel_58": {
          "name": "Regulador de Nível Astralpool",
          "price": 199,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Regulador de nível para piscina skimmer",
          "can_change_type": true
        },
        "regulador_pack_boca_43": {
          "name": "    [Pack] Boca de Impulsão de parede Astralpool Liner (Pack Regulador)",
          "price": 14.25,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Boca impulsão adicional para regulador de nível",
          "can_change_type": false,
          "pack_parent": "regulador_nivel_58",
          "is_pack_item": true,
          "pack_style": "indented"
        },
        "regulador_pack_passamuro_54": {
          "name": "    [Pack] Passamuros Astralpool Liner (Pack Regulador)",
          "price": 13.9,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Passamuro adicional para regulador de nível",
          "can_change_type": false,
          "pack_parent": "regulador_nivel_58",
          "is_pack_item": true,
          "pack_style": "indented"
        },
        "ralo_fundo_60": {
          "name": "Ralo de fundo Kripsol Liner",
          "price": 46.35,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Ralo de fundo para piscina 50.0m² (tela)",
          "can_change_type": true
        },
        "iluminacao_73": {
          "name": "Projector Led Luz RGB de 170mm",
          "price": 480,
          "quantity": 4,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Iluminação para piscina 10.0x5.0m (rgb)",
          "can_change_type": true
        }
      },
      "tratamento_agua": {
        "sal_granulado_refinado": {
          "name": "Sal Granulado Refinado",
          "price": 9.9,
          "quantity": 15,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Quantidade calculada para 62.5 m³ de piscina",
          "can_change_type": false
        },
        "doseador_automatico": {
          "name": "Doseador Automático RX",
          "price": 345,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Doseador automático selecionado",
          "can_change_type": false
        }
      },
      "revestimento": {
        "tela_armada": {
          "name": "Revestimento Tela Armada 3D Unicolor CGT",
          "price": 1799.8,
          "quantity": 2,
          "unit": "Vg",
          "item_type": "incluido",
          "reasoning": "Quantidade calculada: 2 rolos de 25m cada",
          "can_change_type": true,
          "alternatives": [
            {
              "id": 95,
              "name": "Revestimento Tela Armada 3D CGT",
              "price": 2428.8
            },
            {
              "id": 96,
              "name": "Revestimento Tela Armada Lisa CGT",
              "price": 1760
            }
          ],
          "product_id": 94
        },
        "perfil": {
          "name": "Perfil Horizontal de Fixação (2ml)",
          "price": 5.25,
          "quantity": 16,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Perfil horizontal: 16 un (2ml cada)",
          "can_change_type": true,
          "alternatives": [
            {
              "id": 99,
              "name": "Chapa Colaminada",
              "price": 7.5
            }
          ],
          "product_id": 97
        },
        "chapa_colaminada": {
          "name": "Chapa Colaminada",
          "price": 7.5,
          "quantity": 16,
          "unit": "un",
          "item_type": "alternativo",
          "reasoning": "Alternativa à horizontal: 16 un (2ml cada)",
          "alternative_to": "perfil",
          "can_change_type": false,
          "product_id": 99
        }
      },
      "aquecimento": {
        "bomba_calor_106": {
          "name": "Mr. Comfort 160M (16.1kW, 40-75m3)",
          "price": 3054.52,
          "quantity": 1,
          "unit": "UN",
          "item_type": "incluido",
          "reasoning": "Bomba de calor selecionada para piscina de 62.5 m³",
          "can_change_type": true,
          "editable_price": false,
          "editable_name": false
        },
        "bomba_calor_fairland_111": {
          "name": "Fairland InverX20 X20-22 (22kW, 45-75m³)",
          "price": 3900,
          "quantity": 1,
          "unit": "UN",
          "item_type": "alternativo",
          "alternative_to": "bomba_calor_106",
          "reasoning": "Bomba de calor Fairland - Gama Superior alternativa para piscina de 62.5 m³",
          "can_change_type": true,
          "editable_price": false,
          "editable_name": false
        }
      },
      "construcao": {
        "bloco_cofragem": {
          "name": "Bloco Cofragem 50x20x20",
          "price": 1.84,
          "quantity": 375,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "10 blocos por m² de parede (37.50 m²)",
          "can_change_type": true
        },
        "cimento": {
          "name": "Cimento Cimpor 32,5R",
          "price": 6.44,
          "quantity": 144.2,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "10 sacos por m³ de massa (14.42 m³)",
          "can_change_type": true
        },
        "mistura": {
          "name": "Mistura",
          "price": 51.42,
          "quantity": 14.42,
          "unit": "m3",
          "item_type": "incluido",
          "reasoning": "1 m³ por m³ de massa (14.42 m³)",
          "can_change_type": true
        },
        "malha_eletrosoldada": {
          "name": "Malha Eletrosoldada 6mm",
          "price": 4.55,
          "quantity": 37.5,
          "unit": "m2",
          "item_type": "incluido",
          "reasoning": "Igual a m² de paredes (37.50 m²)",
          "can_change_type": true
        },
        "heliaco": {
          "name": "Heliaço 10mm 6m",
          "price": 6.04,
          "quantity": 125,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Barras verticais: 50.0 + Barras horizontais: 75.0",
          "can_change_type": true
        },
        "arame_queimado": {
          "name": "Arame Queimado",
          "price": 2.5,
          "quantity": 2,
          "unit": "kg",
          "item_type": "incluido",
          "reasoning": "Quantidade fixa: 2 kg",
          "can_change_type": true
        },
        "meia_areia": {
          "name": "Meia Areia",
          "price": 50.08,
          "quantity": 1,
          "unit": "m3",
          "item_type": "incluido",
          "reasoning": "Quantidade fixa: 1 m³",
          "can_change_type": true
        },
        "reboco_exterior": {
          "name": "Reboco Exterior Cinza",
          "price": 4.46,
          "quantity": 22.5,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "0,6 sacos por m² de parede (37.50 m²)",
          "can_change_type": true
        },
        "tela_pitonada": {
          "name": "Tela Pitonada",
          "price": 1.5,
          "quantity": 37.5,
          "unit": "m2",
          "item_type": "incluido",
          "reasoning": "Perímetro × prof. média: 30.00 × 1.25",
          "can_change_type": true
        },
        "brita_n2": {
          "name": "Brita nº2",
          "price": 49.79,
          "quantity": 3,
          "unit": "m3",
          "item_type": "incluido",
          "reasoning": "M² fundo × 0,05: 56.16 × 0,05 (arredondado)",
          "can_change_type": true
        }
      },
      "construcao_laje": {
        "pavimento_terreo": {
          "name": "Fornecimento e execução do pavimento térreo com 10cm de espessura, através de enchimento e espalhamento de brita com diâmetro de 12mm a 20mm, colocação de camada de compressão em betão e todos os trabalhos e materiais para o seu perfeito acabamento.",
          "price": 340.0,
          "quantity": 1,
          "unit": "un",
          "item_type": "incluido",
          "reasoning": "Laje de 12.00m² × 10cm: (70 × 1.200 + 10 × 12.00) × 100/60",
          "can_change_type": true
        }
      },
      "bordadura": {
        "bordadura_pedra_natural": {
          "name": "Bordadura em Granito Vila Real 3cm",
          "price": 1968.04,
          "quantity": 1,
          "unit": "serviço",
          "item_type": "incluido",
          "reasoning": "Bordadura 0.91m² × €75.0/m² + €1900.0 (€38/m² piscina)",
          "can_change_type": true
        }
      }
    },
    "family_totals": {
      "filtracao": 3269.79,
      "recirculacao_iluminacao": 3108.05,
      "tratamento_agua": 555.07,
      "revestimento": 4143.17,
      "aquecimento": 3435.6,
      "construcao": 4101.77,
      "construcao_laje": 382.42,
      "bordadura": 2213.57
    },
    "total_price": 21209.44,
    "family_display_map": {
      "filtracao": "Filtração",
      "recirculacao_iluminacao": "Recirculação e Iluminação",
      "tratamento_agua": "Tratamento de Água",
      "revestimento": "Revestimento",
      "aquecimento": "Aquecimento",
      "construcao": "Construção da Piscina",
      "construcao_laje": "Construção da Laje",
      "bordadura": "Bordadura"
    },
    "transport_cost": 0.0,
    "subtotal_products": 21209.44
  }
}